{% extends 'reviews/base.html' %}
{% load staticfiles %}

{% block title_block %}
  Register
{% endblock %}

{% block stylesheets_block %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/forms.css' %}">
{% endblock %}

{% block body_block %}
<h1>{{ heading }}</h1>
  <div class="container-fluid col-sm-8 p-5 mx-auto">
    <form action="{% url 'register' %}" method="POST" id="registerForm">
	    {% csrf_token %}

      {% for field in user_form.visible_fields %}
        <div class="row">
          <div class="col-sm-4">{{ field.help_text }}</div>
          <div class="col">{{ field }}</div>
        </div>
        <div class="row">
          <div class="col-sm-4">&nbsp;</div>
          <div class="col text-danger">{{ field.errors|striptags }}</div>
        </div>
      {% endfor %}
	  
	  {% if user_form.non_field_errors %}
	    <div class="row">
	      <div class="col-sm-4">&nbsp;</div>
		  <div class="col text-danger">{{ user_form.non_field_errors|striptags }}</div>
		</div>
      {% endif %}

      <!--<div class="form-row clearfix">
        <fieldset class="my-5">
          <div class="col-sm-4 px-0 float-left">
            <label class="" for="usename">
              Username</label>
            <label class="" for="email">
              Email</label>
            <label class="" for="password">
              Password</label>
            <label class="" for="password_confirm">
              Re-enter Password</label>
          </div>
          <div class="col-sm-8 px-0 float-left">
            <input class="" type="text"
              name="username" id="username">
            {% if user_form.username.errors %}
              <div class="text-danger">
              {{ user_form.username.errors|striptags }}
            {% else %}
              <div class="invisible">
                &nbsp;
            {% endif %}
            </div>
            <input class="" type="text"
              name="email" id="email">
            {% if user_form.email.errors %}
              <div class="text-danger">
              {{ user_form.email.errors|striptags }}
            {% else %}
              <div class="invisible">
                &nbsp;
            {% endif %}
            </div>
            <input class="" type="password"
              name="password" id="password">
            {% if user_form.password.errors %}
              <div class="text-danger">
              {{ user_form.password.errors|striptags }}
            {% else %}
              <div class="invisible">
                &nbsp;
            {% endif %}
            </div>
            <input class="" type="password"
              name="password_confirm" id="password_confirm">
            {% if user_form.password_confirm.errors or user_form.non_field_errors %}
              <div class="text-danger">
              {% if user_form.password_confirm.errors %} {{ user_form.password_confirm.errors|striptags }} {% endif %}
              {% if user_form.non_field_errors %} {{ user_form.non_field_errors|striptags }} {% endif %}
            {% else %}
              <div class="invisible">
                &nbsp;
            {% endif %}
            </div>
          </div>
        </fieldset>
      </div>-->

      <p>Got an account?</p>
      <div class="form-row clearfix">
        <button class="float-left btn btn-secondary" type="button"
            onclick="window.location.href='{% url 'login' %}'">Log In</button>
        <button class="float-right btn btn-secondary" type="submit"
          form="registerForm">Register</button>
      </div>
    </form>
  </div>
{% endblock %}
